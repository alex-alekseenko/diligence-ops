/*
 * ============================================================================
 * MOTION SYSTEM — Extracted from option-b-prism-v2.html (Prism Grid)
 * Generated by design-toolkit/extract-motion on 2026-02-12
 * ============================================================================
 *
 * COMPANION to extracted-globals.css (color/radius tokens).
 * Together they form a complete design system. Import order:
 *   @import "./extracted-globals.css";   /* colors, radius, typography */
 *   @import "./motion-system.css";       /* motion, animation, interaction */
 *
 * Cross-references:
 * - Color tokens: see extracted-globals.css for --revenue, --profit, --cost, etc.
 * - Shadow OKLCH values use warm-tinted hues matching the parchment palette
 *
 * Prism's motion language: editorial, data-driven, staggered reveals.
 * Animations are relatively slow (500-800ms) with spring easing for data
 * visualizations and ease-out for content entrances. Particle flow dots add
 * ambient motion to the Sankey diagram.
 */

:root {
  /* ── Duration Scale (extracted from Prism) ── */
  --duration-instant:    50ms;
  --duration-faster:    150ms;
  --duration-fast:      250ms;
  --duration-normal:    300ms;
  --duration-moderate:  500ms;
  --duration-slow:      700ms;
  --duration-slower:    800ms;
  --duration-extra-slow: 2500ms;

  /* ── Easing Curves (extracted from Prism) ── */
  --ease-out:           ease-out;
  --ease-in-out:        ease-in-out;
  --ease-spring:        cubic-bezier(0.22, 1, 0.36, 1);
  --ease-smooth:        cubic-bezier(0.45, 0.05, 0.55, 0.95);
  --ease-linear:        linear;

  /* ── Distance Scale ── */
  --distance-xs:        2px;
  --distance-sm:        6px;
  --distance-md:        14px;
  --distance-lg:        20px;
  --distance-xl:        44px;

  /* ── Scale Values ── */
  --scale-collapse:     0;
  --scale-press:        0.97;
  --scale-hover-dot:    1.56;

  /* ── Shadow Elevation (warm-tinted) ── */
  --shadow-xs:          0 1px 2px oklch(0.172 0.012 75 / 5%);
  --shadow-sm:          0 1px 3px oklch(0.172 0.012 75 / 6%), 0 1px 2px oklch(0.172 0.012 75 / 3%);
  --shadow-md:          0 4px 12px oklch(0.172 0.012 75 / 8%), 0 2px 4px oklch(0.172 0.012 75 / 4%);
  --shadow-lg:          0 8px 32px oklch(0 0 0 / 15%);
  --shadow-xl:          0 16px 48px oklch(0.172 0.012 75 / 16%), 0 8px 16px oklch(0 0 0 / 8%);
  --shadow-highlight:   0 0 0 3px oklch(0.623 0.140 255 / 25%);
}

.dark {
  --shadow-xs:          0 1px 2px oklch(0 0 0 / 20%);
  --shadow-sm:          0 1px 3px oklch(0 0 0 / 30%), 0 1px 2px oklch(0 0 0 / 20%);
  --shadow-md:          0 4px 12px oklch(0 0 0 / 30%), 0 2px 4px oklch(0 0 0 / 20%);
  --shadow-lg:          0 8px 32px oklch(0 0 0 / 35%);
  --shadow-xl:          0 16px 48px oklch(0 0 0 / 40%), 0 8px 16px oklch(0 0 0 / 25%);
  --shadow-highlight:   0 0 0 3px oklch(0.680 0.130 255 / 30%);
}

/* ── Keyframe Animations ── */

@keyframes slideIn {
  from { opacity: 0; transform: translateY(var(--distance-lg)); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes barSlide {
  from { transform: scaleY(0); opacity: 0; }
  to   { transform: scaleY(1); opacity: 1; }
}

@keyframes strokeDraw {
  to { stroke-dashoffset: 0; }
}

@keyframes fadeIn {
  to { opacity: 1; }
}

@keyframes popIn {
  from { transform: scale(0); opacity: 0; }
  to   { transform: scale(1); opacity: 1; }
}

@keyframes stackGrow {
  from { flex-basis: 0%; }
}

@keyframes sankeyFadeIn {
  from { opacity: 0; transform: translateY(var(--distance-sm)); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes hintPulse {
  0%, 100% { opacity: 0.7; transform: translateY(-50%) translateX(0); }
  50%      { opacity: 1;   transform: translateY(-50%) translateX(-4px); }
}

/* ── Accessibility ── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  .fade-safe {
    transition-duration: var(--duration-faster) !important;
    transition-property: opacity !important;
  }
}
